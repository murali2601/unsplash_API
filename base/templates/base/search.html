<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>search : {{category}}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
<script src="https://kit.fontawesome.com/6a72a8e32d.js" crossorigin="anonymous"></script>
    <style>
        body{
    background-color: rgb(232, 232, 232);
  }
      .topg{
        display: flex;
        
      }
      .background-container {
        position: relative;
        width: 100vw;
        height: 90vh;
        background-color: rgba(0, 0, 0, 0.294);
    }
.head{
  position: relative;
  top: 30%;
  left: 50%;
  transform: translate(-50%, -50%);
}
    .background-container img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100vw;
        height: 90vh;
        object-fit: cover; 
        z-index: -1; 
    }
    #backToTopButton {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: #000000;
        color: #fff;
        border: none;
        padding: 10px 20px;
        cursor: pointer;
    }
    </style>
</head>

<body>
  <div class="background-container">
    {% for r in results  %}
    {% if forloop.counter == 1 %}
    <img src="{{r.urls.regular}}" alt="Background Image">
    {% endif %}
    {% endfor %}
    <!-- Content goes here -->
    <div class="topg">
      <button class="btn bg-light m-4 rounded-1" id="back-button"><i class="fa-solid fa-angle-left"></i> Go Back</button>
    
    <button class="btn m-4 btn-light rounded-1 fs-6" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
      <i class="fa-solid fa-filter" style="color: #000000;"></i>&nbsp; Categories
  </button>
  
  <div class="offcanvas offcanvas-start bg-light  bg-opacity-75" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="offcanvasExampleLabel">Popular Category</h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <a href="{% url 'home' %}"><button class="btn bg-dark m-2 text-white  rounded-1 fs-5" ><i class="fa-solid fa-house"></i>&nbsp; Home</button></a>  
      <br>
      <br>
       
      <div>
        <li class="list-group-item"><a href="/Action" class="btn fs-5">&nbsp;&nbsp; Action</a></li>
        <li class="list-group-item"><a href="/Adventure" class="btn fs-5">&nbsp;&nbsp; Adventure</a></li>
        <li class="list-group-item"><a href="/Animal" class="btn fs-5">&nbsp;&nbsp; Animal</a></li>
        <li class="list-group-item"><a href="/Black&white" class="btn fs-5">&nbsp;&nbsp; Black&white</a></li>
        <li class="list-group-item"><a href="/City" class="btn fs-5">&nbsp;&nbsp; City</a></li>
        <li class="list-group-item"><a href="/Digital" class="btn fs-5">&nbsp;&nbsp; Digital</a></li>
        <li class="list-group-item"><a href="/Entertainment" class="btn fs-5">&nbsp;&nbsp; Entertainment</a></li>
        <li class="list-group-item"><a href="/Forest" class="btn fs-5">&nbsp;&nbsp; Forest</a></li>
        <li class="list-group-item"><a href="/Gaming" class="btn fs-5">&nbsp;&nbsp; Gaming</a></li>
        <li class="list-group-item"><a href="/Internet" class="btn fs-5">&nbsp;&nbsp; Internet</a></li>
        <li class="list-group-item"><a href="/Job" class="btn fs-5">&nbsp;&nbsp; Job</a></li>
        <li class="list-group-item"><a href="/Lights" class="btn fs-5">&nbsp;&nbsp; Lights</a></li>
        <li class="list-group-item"><a href="/Mountains" class="btn fs-5">&nbsp;&nbsp; Mountains</a></li>
        <li class="list-group-item"><a href="/Nature" class="btn fs-5">&nbsp;&nbsp; Nature</a></li>
        <li class="list-group-item"><a href="/Programming" class="btn fs-5">&nbsp;&nbsp; Programming</a></li>
        <li class="list-group-item"><a href="/Racing" class="btn fs-5">&nbsp;&nbsp; Racing</a></li>
        <li class="list-group-item"><a href="/Sports" class="btn fs-5">&nbsp;&nbsp; Sports</a></li>
        <li class="list-group-item"><a href="/Travel" class="btn fs-5">&nbsp;&nbsp; Travel</a></li>
        <li class="list-group-item"><a href="/Universe" class="btn fs-5">&nbsp;&nbsp; Universe</a></li>
        <li class="list-group-item"><a href="/Virtual Reality " class="btn fs-5">&nbsp;&nbsp; Virtual Reality</a></li>
        </div>
     
    </div>
  </div>
    
  </div>

  <h1 class=" text-center text-white head " style="font-size: 3.5em;">Explore {{category}}</h1>
  
</div>


 
  <div class="my-3 row row-cols-1 mx-4 row-cols-md-4 g-4">
    {% for r in results %}
    <div class="col">
      <div class="card h-100">
        <a href="{% url 'view' r.id %}"><img src="{{r.urls.small}}" class="card-img-top rounded-0" alt="..."></a>
        <div class="card-body">
          <img src="{{r.user.profile_image.small}}" class="profile" style="border-radius: 50px;" alt=""> &nbsp; <span><strong>{{r.user.username}}</strong></span> <span style="float: right;">{{r.likes}}&nbsp; <i class="fa-solid fa-thumbs-up"></i></span>
          {% if r.description != None %}
          <p class="card-text p-2">{{r.description}}</p>
       {% else %}
       <p class="card-text p-2">No description by {{r.user.username}}</p>
       {% endif %}
          <p class="card-text">Posted on {{r.created_at}}</p>
            <a href="{% url 'view' r.id %}" class="btn btn-dark rounded-1">View</a>
        </div>
      </div>
    </div>
    {% endfor %}
    </div>
    <button id="backToTopButton" class="rounded-1" onclick="scrollToTop()"><i class="fa-solid fa-arrow-up" style="color: #ffffff;"></i> &nbsp; Back to Top</button>

       
    <script>
      document.getElementById("back-button").addEventListener("click", function() {
          window.history.back();
      });

      function scrollToTop() {
          window.scrollTo({
              top: 0,
              behavior: 'smooth'
          });
      }
  </script>
      
</body>
</html>